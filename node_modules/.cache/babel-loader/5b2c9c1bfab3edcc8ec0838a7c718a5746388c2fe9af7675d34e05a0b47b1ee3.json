{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{AppContext}from'../../context/context';import{HiX}from'react-icons/hi';import css from'./SearchBar.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(props){var _useContext=useContext(AppContext),addCharacter=_useContext.addCharacter;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),characters=_useState4[0],setCharacters=_useState4[1];var searchCharacter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(input.length<4)){_context.next=3;break;}setCharacters(null);return _context.abrupt(\"return\");case 3:_context.next=5;return fetch(\"https://rickandmortyapi.com/api/character/?name=\".concat(e.target.value)).then(function(resp){return resp.json();}).then(function(data){if(data.erro){setCharacters(null);}else{setCharacters(data.results);}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function searchCharacter(_x){return _ref.apply(this,arguments);};}();var clearSearch=function clearSearch(){setInput('');setCharacters(null);};return/*#__PURE__*/_jsxs(\"div\",{className:css['search-wrapper'],children:[/*#__PURE__*/_jsxs(\"div\",{className:css.search,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Escribe el nombre de un personaje\",className:css['search-input'],type:\"text\",value:input,onKeyUp:searchCharacter,onChange:function onChange(evento){return setInput(evento.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:characters?css['search-btn']:'invisible',onClick:clearSearch,children:/*#__PURE__*/_jsx(HiX,{className:\"text-2xl leading-none\"})})]}),characters&&/*#__PURE__*/_jsx(\"div\",{className:css['search-results'],children:/*#__PURE__*/_jsx(\"div\",{className:css['search-results-list'],children:characters.map(function(c,i){return/*#__PURE__*/_jsxs(\"div\",{className:css.item,onClick:function onClick(){return addCharacter(c);},children:[/*#__PURE__*/_jsx(\"img\",{src:c.image,alt:c.name,className:\"w-8 h-8 object-cover rounded-full\"}),c.name]},c.id);})})})]});}","map":{"version":3,"names":["React","useState","useContext","AppContext","HiX","css","SearchBar","props","addCharacter","input","setInput","characters","setCharacters","searchCharacter","e","length","fetch","target","value","then","resp","json","data","erro","results","clearSearch","search","evento","map","c","i","item","image","name","id"],"sources":["/Users/fitodac/Sites/henry/rick-and-morty/src/components/SearchBar/SearchBar.jsx"],"sourcesContent":["import React, { \n\tuseState,\n\tuseContext \n} from 'react'\nimport { AppContext } from '../../context/context'\n\nimport { HiX } from 'react-icons/hi'\n\nimport css from './SearchBar.module.css'\n\n\nexport default function SearchBar(props) {\n  \n\tconst { addCharacter } = useContext(AppContext)\n\tconst [ input, setInput ] = useState('')\n\tconst [ characters, setCharacters ] = useState(null)\n\n\n\tconst searchCharacter = async e => {\n\t\tif( input.length < 4 ){\n\t\t\tsetCharacters(null)\n\t\t\treturn\n\t\t}\n\n\t\tawait fetch(`https://rickandmortyapi.com/api/character/?name=${e.target.value}`)\n\t\t\t.then(resp => resp.json())\n\t\t\t.then(data => {\n\t\t\t\tif( data.erro ){\n\t\t\t\t\tsetCharacters(null)\n\t\t\t\t}else{\n\t\t\t\t\tsetCharacters(data.results)\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tconst clearSearch = () => {\n\t\tsetInput('')\n\t\tsetCharacters(null)\n\t}\n\n\n  return (\n\t\t<div className={ css['search-wrapper']}>\n\t\t\t<div className={ css.search }>\n\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Escribe el nombre de un personaje\"\n\t\t\t\t\tclassName={ css['search-input'] }\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ input }\n\t\t\t\t\tonKeyUp={ searchCharacter }\n\t\t\t\t\tonChange={(evento) => setInput(evento.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<button \n\t\t\t\t\tclassName={ characters ? css['search-btn'] : 'invisible' }\n\t\t\t\t\tonClick={ clearSearch }>\n\t\t\t\t\t<HiX className=\"text-2xl leading-none\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{\n\t\t\t\tcharacters && (\n\t\t\t\t\t<div className={ css['search-results'] }>\n\t\t\t\t\t\t<div className={ css['search-results-list'] }>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcharacters.map((c, i) => (\n\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\tkey={c.id} \n\t\t\t\t\t\t\t\t\t\tclassName={ css.item }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => addCharacter(c) }>\n\t\t\t\t\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ c.image } \n\t\t\t\t\t\t\t\t\t\t\t\talt={ c.name }\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-8 h-8 object-cover rounded-full\" />\n\t\t\t\t\t\t\t\t\t\t\t{ c.name }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n  )\n}\n"],"mappings":"6YAAA,MAAOA,MAAK,EACXC,QAAQ,CACRC,UAAU,KACJ,OAAO,CACd,OAASC,UAAU,KAAQ,uBAAuB,CAElD,OAASC,GAAG,KAAQ,gBAAgB,CAEpC,MAAOC,IAAG,KAAM,wBAAwB,yFAGxC,cAAe,SAASC,UAAS,CAACC,KAAK,CAAE,CAExC,gBAAyBL,UAAU,CAACC,UAAU,CAAC,CAAvCK,YAAY,aAAZA,YAAY,CACpB,cAA4BP,QAAQ,CAAC,EAAE,CAAC,wCAAhCQ,KAAK,eAAEC,QAAQ,eACvB,eAAsCT,QAAQ,CAAC,IAAI,CAAC,yCAA5CU,UAAU,eAAEC,aAAa,eAGjC,GAAMC,gBAAe,4FAAG,iBAAMC,CAAC,yHAC1BL,KAAK,CAACM,MAAM,CAAG,CAAC,0BACnBH,aAAa,CAAC,IAAI,CAAC,+DAIdI,MAAK,2DAAoDF,CAAC,CAACG,MAAM,CAACC,KAAK,EAAG,CAC9EC,IAAI,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACb,GAAIA,IAAI,CAACC,IAAI,CAAE,CACdX,aAAa,CAAC,IAAI,CAAC,CACpB,CAAC,IAAI,CACJA,aAAa,CAACU,IAAI,CAACE,OAAO,CAAC,CAC5B,CACD,CAAC,CAAC,uDACH,kBAfKX,gBAAe,4CAepB,CAED,GAAMY,YAAW,CAAG,QAAdA,YAAW,EAAS,CACzBf,QAAQ,CAAC,EAAE,CAAC,CACZE,aAAa,CAAC,IAAI,CAAC,CACpB,CAAC,CAGA,mBACA,aAAK,SAAS,CAAGP,GAAG,CAAC,gBAAgB,CAAE,wBACtC,aAAK,SAAS,CAAGA,GAAG,CAACqB,MAAQ,wBAE5B,cACC,WAAW,CAAC,mCAAmC,CAC/C,SAAS,CAAGrB,GAAG,CAAC,cAAc,CAAG,CACjC,IAAI,CAAC,MAAM,CACX,KAAK,CAAGI,KAAO,CACf,OAAO,CAAGI,eAAiB,CAC3B,QAAQ,CAAE,kBAACc,MAAM,QAAKjB,SAAQ,CAACiB,MAAM,CAACV,MAAM,CAACC,KAAK,CAAC,EAAC,EACnD,cAEF,eACC,SAAS,CAAGP,UAAU,CAAGN,GAAG,CAAC,YAAY,CAAC,CAAG,WAAa,CAC1D,OAAO,CAAGoB,WAAa,uBACvB,KAAC,GAAG,EAAC,SAAS,CAAC,uBAAuB,EAAG,EACjC,GACJ,CAGLd,UAAU,eACT,YAAK,SAAS,CAAGN,GAAG,CAAC,gBAAgB,CAAG,uBACvC,YAAK,SAAS,CAAGA,GAAG,CAAC,qBAAqB,CAAG,UAE3CM,UAAU,CAACiB,GAAG,CAAC,SAACC,CAAC,CAAEC,CAAC,qBACnB,aAEC,SAAS,CAAGzB,GAAG,CAAC0B,IAAM,CACtB,OAAO,CAAG,yBAAMvB,aAAY,CAACqB,CAAC,CAAC,EAAE,wBAChC,YACC,GAAG,CAAGA,CAAC,CAACG,KAAO,CACf,GAAG,CAAGH,CAAC,CAACI,IAAM,CACd,SAAS,CAAC,mCAAmC,EAAG,CAC/CJ,CAAC,CAACI,IAAI,GAPJJ,CAAC,CAACK,EAAE,CAQJ,EACN,CAAC,EAEE,EAEP,GAEG,CAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}