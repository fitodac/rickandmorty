{"ast":null,"code":"import _slicedToArray from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useContext,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{AppContext}from'../../context/context';import localforage from'localforage';import{HiOutlineTrash,HiOutlinePlusCircle,HiOutlineHeart,HiHeart,HiOutlineViewGridAdd}from'react-icons/hi';import SearchBar from'../SearchBar/SearchBar';import css from'./NavBar.module.css';import ImgLogo from'../../assets/img/logo.webp';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(NavBar){var navigate=useNavigate();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),fav=_useState2[0],setFav=_useState2[1];var _useContext=useContext(AppContext),addRandomCharacter=_useContext.addRandomCharacter,loading=_useContext.loading,clearAll=_useContext.clearAll,auth=_useContext.auth,updateAuth=_useContext.updateAuth,characters=_useContext.characters,updateCharacters=_useContext.updateCharacters,toggleFavorites=_useContext.toggleFavorites;useEffect(function(){var favs=characters.filter(function(e){return e.favorite;});setFav(favs.length);},[characters]);var logout=function logout(){localforage.removeItem('user').then(function(){updateAuth(null);navigate('/login');});};var watchFavorites=function watchFavorites(){toggleFavorites();};return/*#__PURE__*/_jsx(\"nav\",{className:\"py-2 relative z-30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-6xl px-6 mx-auto xl:px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-6 md:flex md:justify-between md:items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:ImgLogo,alt:\"Rick & Morty\",className:\"brand w-32 md:w-48\"})})}),auth&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:flex lg:justify-between lg:gap-x-5 lg:justify-end\",children:[/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid justify-center gap-4 mt-4 lg:m-0 sm:flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(css.button,\" \").concat(loading?'active':''),onClick:addRandomCharacter,disabled:loading,children:/*#__PURE__*/_jsxs(\"div\",{className:\"justify-center items-center gap-2 md:w-28 md:h-5 md:flex\",children:[/*#__PURE__*/_jsx(HiOutlinePlusCircle,{className:loading?'invisible':'text-2xl leading-none'}),/*#__PURE__*/_jsx(\"span\",{className:loading?'hidden':'hidden lg:inline-block',children:\"Personaje\"}),/*#__PURE__*/_jsx(\"span\",{className:loading?'':'hidden',children:\"Cargando...\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"\".concat(css.button,\" \").concat(loading?'active':''),onClick:function onClick(){return updateCharacters();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"justify-center items-center gap-2 md:w-20 md:h-5 md:flex\",children:[/*#__PURE__*/_jsx(HiOutlineViewGridAdd,{className:\"text-2xl leading-none\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden lg:block\",children:\"Todos\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:css.button,onClick:clearAll,children:/*#__PURE__*/_jsx(HiOutlineTrash,{className:\"text-2xl leading-none\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-4\",children:[fav>0&&/*#__PURE__*/_jsxs(\"button\",{className:css['fav-btn'],onClick:function onClick(){return toggleFavorites();},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Favoritos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:css['fav-indicator'],children:fav}),/*#__PURE__*/_jsx(HiHeart,{className:\"text-red-700 text-4xl leading-none\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white text-opacity-60 px-1 transition-all  select-none hover:text-opacity-100\",onClick:logout,children:\"Salir\"})]})]})]})]})})});});","map":{"version":3,"names":["useEffect","useContext","useState","Link","useNavigate","AppContext","localforage","HiOutlineTrash","HiOutlinePlusCircle","HiOutlineHeart","HiHeart","HiOutlineViewGridAdd","SearchBar","css","ImgLogo","NavBar","navigate","fav","setFav","addRandomCharacter","loading","clearAll","auth","updateAuth","characters","updateCharacters","toggleFavorites","favs","filter","e","favorite","length","logout","removeItem","then","watchFavorites","button"],"sources":["/Users/fitodac/Sites/henry/rick-and-morty/src/components/NavBar/NavBar.jsx"],"sourcesContent":["import { \n\tuseEffect,\n\tuseContext, \n\tuseState \n} from 'react'\nimport { \n\tLink, \n\tuseNavigate \n} from 'react-router-dom'\nimport { AppContext } from '../../context/context'\nimport localforage from 'localforage'\nimport { \n\tHiOutlineTrash,\n\tHiOutlinePlusCircle,\n\tHiOutlineHeart,\n\tHiHeart,\n\tHiOutlineViewGridAdd\n} from 'react-icons/hi'\n\nimport SearchBar from '../SearchBar/SearchBar'\n\nimport css from './NavBar.module.css'\nimport ImgLogo from '../../assets/img/logo.webp'\n\n\nexport default NavBar => {\n\n\tconst navigate = useNavigate()\n\tconst [fav, setFav] = useState(0)\n\t\n\tconst { \n\t\taddRandomCharacter,\n\t\tloading,\n\t\tclearAll,\n\t\tauth,\n\t\tupdateAuth,\n\t\tcharacters,\n\t\tupdateCharacters,\n\t\ttoggleFavorites\n\t} = useContext(AppContext)\n\n\tuseEffect(() => {\n\t\tconst favs = characters.filter(e => e.favorite)\n\t\tsetFav(favs.length)\n\t}, [characters])\n\n\n\tconst logout = () => {\n\n\t\tlocalforage.removeItem('user')\n\t\t\t.then(() => {\n\t\t\t\tupdateAuth(null)\n\t\t\t\tnavigate('/login')\n\t\t\t})\n\t}\n\n\n\tconst watchFavorites = () => {\n\t\ttoggleFavorites()\n\t}\n\n  return (\n\t\t<nav className=\"py-2 relative z-30\">\n\t\t\t<div className=\"w-full max-w-6xl px-6 mx-auto xl:px-0\">\n\t\t\t\t<div className=\"grid gap-6 md:flex md:justify-between md:items-center\">\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"flex justify-center\">\n\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc={ ImgLogo } \n\t\t\t\t\t\t\t\talt=\"Rick & Morty\" \n\t\t\t\t\t\t\t\tclassName=\"brand w-32 md:w-48\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\n\n\t\t\t\t{auth && (\n\t\t\t\t\t<div className=\"grid lg:flex lg:justify-between lg:gap-x-5 lg:justify-end\">\n\t\t\t\t\t\t<SearchBar />\n\n\t\t\t\t\t\t<div className=\"grid justify-center gap-4 mt-4 lg:m-0 sm:flex\">\n\t\t\t\t\t\t\t<div className=\"flex gap-x-4\">\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={`${css.button} ${loading ? 'active': ''}`} \n\t\t\t\t\t\t\t\t\tonClick={ addRandomCharacter }\n\t\t\t\t\t\t\t\t\tdisabled={ loading }>\n\t\t\t\t\t\t\t\t\t\t<div className=\"justify-center items-center gap-2 md:w-28 md:h-5 md:flex\">\n\t\t\t\t\t\t\t\t\t\t\t<HiOutlinePlusCircle className={ loading ? 'invisible' : 'text-2xl leading-none' } />\n\t\t\t\t\t\t\t\t\t\t\t<span className={ loading ? 'hidden' : 'hidden lg:inline-block'}>Personaje</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className={ loading ? '' : 'hidden' }>Cargando...</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={`${css.button} ${loading ? 'active': ''}`} \n\t\t\t\t\t\t\t\t\tonClick={ () => updateCharacters() }>\n\t\t\t\t\t\t\t\t\t<div className=\"justify-center items-center gap-2 md:w-20 md:h-5 md:flex\">\n\t\t\t\t\t\t\t\t\t\t<HiOutlineViewGridAdd className=\"text-2xl leading-none\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:block\">Todos</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName={ css.button }\n\t\t\t\t\t\t\t\t\tonClick={ clearAll }>\n\t\t\t\t\t\t\t\t\t<HiOutlineTrash className=\"text-2xl leading-none\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-x-4\">\n\t\t\t\t\t\t\t\t{fav > 0 && (\n\t\t\t\t\t\t\t\t\t<button className={ css['fav-btn']} onClick={() => toggleFavorites()}>\n\t\t\t\t\t\t\t\t\t\t<span>Favoritos</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\t\t\t\t\tclassName={ css['fav-indicator'] }>{ fav }</div>\n\t\t\t\t\t\t\t\t\t\t\t<HiHeart className=\"text-red-700 text-4xl leading-none\"/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\n\n\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\tclassName=\"text-white text-opacity-60 px-1 transition-all \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect-none hover:text-opacity-100\"\n\t\t\t\t\t\t\t\t\tonClick={ logout }>\n\t\t\t\t\t\t\t\t\tSalir\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}