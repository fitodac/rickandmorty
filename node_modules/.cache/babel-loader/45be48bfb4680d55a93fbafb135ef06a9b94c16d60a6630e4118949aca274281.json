{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/fitodac/Sites/henry/rick-and-morty/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{Outlet,useNavigate}from'react-router-dom';import{AppContext}from'./context/context';import'./App.css';import NavBar from'./components/NavBar/NavBar';import Footer from'./components/Footer/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var filter_obj={gender:null,order:null};function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),favorites=_useState4[0],setFavorites=_useState4[1];var _useState5=useState(_objectSpread({},filter_obj)),_useState6=_slicedToArray(_useState5,2),filters=_useState6[0],setFilters=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),auth=_useState10[0],setAuth=_useState10[1];var navigate=useNavigate();var filterReset=function filterReset(){return setFilters(_objectSpread({},filter_obj));};// Get character by ID\nvar getCharacter=function getCharacter(id){return fetch(\"https://rickandmortyapi.com/api/character/\".concat(id)).then(function(resp){return resp.json();}).then(function(data){return data;});};// Delete character\nvar deleteCharacter=function deleteCharacter(id){var arr=characters.filter(function(e){return e.id!==id;});document.getElementById(\"character-\".concat(id)).classList.add('-translate-y-[30px]','opacity-0','pointer-events-none');setTimeout(function(){return setCharacters(arr);},510);};// Add random character\nvar addRandomCharacter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var id,chars,char;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:navigate('/');setLoading(true);id=Math.floor(Math.random()*(Math.floor(1)-Math.ceil(826)+1)+Math.ceil(826));chars=_toConsumableArray(characters);// Check for existent character\nif(!chars.find(function(e){return e.id===id;})){_context.next=7;break;}addRandomCharacter();return _context.abrupt(\"return\");case 7:_context.next=9;return getCharacter(id);case 9:char=_context.sent;chars.unshift(char);setLoading(false);setCharacters(chars);case 13:case\"end\":return _context.stop();}}},_callee);}));return function addRandomCharacter(){return _ref.apply(this,arguments);};}();// Set loading\nvar handleLoading=function handleLoading(status){return setLoading(status);};// Clear all characters\nvar clearAll=function clearAll(){navigate('/');setCharacters([]);};// Add all characters\nvar updateCharacters=function updateCharacters(num){clearAll();return fetch(\"https://rickandmortyapi.com/api/character/\".concat(num!==null&&num!==void 0?num:'')).then(function(resp){return resp.json();}).then(function(data){var chars=characters.filter(function(e){return e.favorite;});var ids=chars.map(function(e){return e.id;});var resp=data.results.filter(function(e){return!ids.includes(e.id);});setCharacters([].concat(_toConsumableArray(chars),_toConsumableArray(resp)));});};// Add character\nvar addCharacter=function addCharacter(el){var chars=_toConsumableArray(characters);// Check for existent character\nif(chars.find(function(e){return e.id===el.id;}))return;chars.unshift(el);setCharacters(chars);};// Authorization\nvar updateAuth=function updateAuth(user){return setAuth(user);};var addFav=function addFav(id){filterReset();var chars=_toConsumableArray(characters);var idx=chars.findIndex(function(e){return e.id===id;});chars[idx].favorite=true;setCharacters(chars);};var removeFav=function removeFav(id){filterReset();var chars=_toConsumableArray(characters);var idx=chars.findIndex(function(e){return e.id===id;});delete chars[idx].favorite;setCharacters(chars);};var toggleFavorites=function toggleFavorites(){filterReset();setFavorites(!favorites);};var Filter=function Filter(obj){return setFilters(obj);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(AppContext.Provider,{value:{characters:characters,addCharacter:addCharacter,updateCharacters:updateCharacters,deleteCharacter:deleteCharacter,addRandomCharacter:addRandomCharacter,loading:loading,handleLoading:handleLoading,clearAll:clearAll,auth:auth,updateAuth:updateAuth,addFav:addFav,removeFav:removeFav,favorites:favorites,toggleFavorites:toggleFavorites,filters:filters,Filter:Filter,filterReset:filterReset},children:/*#__PURE__*/_jsxs(\"main\",{id:\"mainWrapper\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsx(Footer,{})]})})});}export default App;","map":{"version":3,"names":["useState","Outlet","useNavigate","AppContext","NavBar","Footer","filter_obj","gender","order","App","characters","setCharacters","favorites","setFavorites","filters","setFilters","loading","setLoading","auth","setAuth","navigate","filterReset","getCharacter","id","fetch","then","resp","json","data","deleteCharacter","arr","filter","e","document","getElementById","classList","add","setTimeout","addRandomCharacter","Math","floor","random","ceil","chars","find","char","unshift","handleLoading","status","clearAll","updateCharacters","num","favorite","ids","map","results","includes","addCharacter","el","updateAuth","user","addFav","idx","findIndex","removeFav","toggleFavorites","Filter","obj"],"sources":["/Users/fitodac/Sites/henry/rick-and-morty/src/App.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { Outlet, useNavigate } from 'react-router-dom'\nimport { AppContext } from './context/context'\n\nimport './App.css'\n\nimport NavBar from './components/NavBar/NavBar'\nimport Footer from './components/Footer/Footer'\n\n\nconst filter_obj = { gender: null, order: null }\n\nfunction App() {\n  \n\tconst [ characters, setCharacters ] = useState([])\n\tconst [ favorites, setFavorites ] = useState(false)\n\tconst [ filters, setFilters ] = useState({...filter_obj})\n\tconst [ loading, setLoading ] = useState(false)\n\tconst [ auth, setAuth ] = useState(false)\n  const navigate = useNavigate()\n\t\n\tconst filterReset = () => setFilters({...filter_obj})\n\n\n\t// Get character by ID\n\tconst getCharacter = id => {\n\t\treturn fetch(`https://rickandmortyapi.com/api/character/${id}`)\n\t\t\t.then(resp => resp.json())\n\t\t\t.then(data => data)\n\t}\n\n\n\n\t// Delete character\n\tconst deleteCharacter = id => {\n\t\tconst arr = characters.filter(e => e.id !== id)\n\t\tdocument.getElementById(`character-${id}`).classList.add('-translate-y-[30px]', 'opacity-0', 'pointer-events-none')\n\t\tsetTimeout(() => setCharacters(arr), 510)\n\t}\n\n\t// Add random character\n\tconst addRandomCharacter = async () => {\n\t\tnavigate('/')\n\t\tsetLoading(true)\n\t\tconst id = Math.floor(Math.random() * (Math.floor(1) - Math.ceil(826) + 1) + Math.ceil(826))\n\t\tconst chars = [...characters]\n\t\t\n\t\t// Check for existent character\n\t\tif( chars.find( e => e.id === id ) ){\n\t\t\taddRandomCharacter()\n\t\t\treturn\n\t\t}\n\t\t\n\t\tconst char = await getCharacter(id)\n\t\tchars.unshift(char)\n\t\tsetLoading(false)\n\t\tsetCharacters(chars)\n\t}\n\n\n\t// Set loading\n\tconst handleLoading = status => setLoading(status)\n\n\n\t// Clear all characters\n\tconst clearAll = () => {\n\t\tnavigate('/')\n\t\tsetCharacters([])\n\t}\n\t\n\t\n\t// Add all characters\n\tconst updateCharacters = num => {\n\t\tclearAll()\n\t\treturn fetch(`https://rickandmortyapi.com/api/character/${num ?? ''}`)\n\t\t\t.then(resp => resp.json())\n\t\t\t.then(data => {\n\t\t\t\tconst chars = characters.filter(e => e.favorite)\n\t\t\t\tconst ids = chars.map(e => e.id)\n\t\t\t\tconst resp = data.results.filter(e => !ids.includes(e.id))\n\t\t\t\tsetCharacters([...chars, ...resp])\n\t\t\t})\n\t}\n\n\n\t// Add character\n\tconst addCharacter = el => {\n\t\tconst chars = [...characters]\n\n\t\t// Check for existent character\n\t\tif( chars.find( e => e.id === el.id ) ) return\n\n\t\tchars.unshift(el)\n\t\tsetCharacters(chars)\n\t}\n\n\n\t// Authorization\n\tconst updateAuth = user => setAuth(user)\n\n\n\tconst addFav = id => {\n\t\tfilterReset()\n\t\tconst chars = [...characters]\n\t\tconst idx = chars.findIndex(e => e.id === id)\n\t\tchars[idx].favorite = true\n\t\tsetCharacters(chars)\n\t}\n\n\n\tconst removeFav = id => {\n\t\tfilterReset()\n\t\tconst chars = [...characters]\n\t\tconst idx = chars.findIndex(e => e.id === id)\n\t\tdelete chars[idx].favorite\n\t\tsetCharacters(chars)\n\t}\n\n\n\tconst toggleFavorites = () => {\n\t\tfilterReset()\n\t\tsetFavorites(!favorites)\n\t}\n\n\tconst Filter = obj => setFilters(obj)\n\n\n\n  return (\n    <>\n\t\t\t<AppContext.Provider \n\t\t\t\tvalue={{\n\t\t\t\t\tcharacters,\n\t\t\t\t\taddCharacter,\n\t\t\t\t\tupdateCharacters,\n\t\t\t\t\tdeleteCharacter,\n\t\t\t\t\taddRandomCharacter,\n\t\t\t\t\tloading,\n\t\t\t\t\thandleLoading,\n\t\t\t\t\tclearAll,\n\t\t\t\t\tauth,\n\t\t\t\t\tupdateAuth,\n\t\t\t\t\taddFav,\n\t\t\t\t\tremoveFav,\n\t\t\t\t\tfavorites,\n\t\t\t\t\ttoggleFavorites,\n\t\t\t\t\tfilters,\n\t\t\t\t\tFilter,\n\t\t\t\t\tfilterReset\n\t\t\t\t}}>\n\t\t\t\t<main id=\"mainWrapper\">\n\t\t\t\t\t<NavBar />\n\t\t\t\t\t<Outlet/>\n\t\t\t\t\t<Footer />\n\t\t\t\t</main>\n\t\t\t</AppContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}